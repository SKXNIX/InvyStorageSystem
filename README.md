# Warehouse Helper

Система управления складом

## Как работает сборка докер?
Первое, что нужно сделать - запустить в windows `wsl --install` для установки виртуальной машины (требование для docker). После этого устанавливается Docker Desktop. Ключевые файлы сборки:  `docker-compose.yml` - конфигурирует сервисы поднимаемые в виртуальной среде (web - сервис веб-приложения, nginx - сервис сервера, db - служба баз данных), `Dockerfile` - задает настройки и команды необходимые для настройки виртуальной среды под конкретную службу/сервис (переменные среды, команды установки библиотек и расширений и т.д.), `.env` - хранит переменные окружения всего контейнера, `manage.py` - файл для взаимодействия с Django. 
В виртуальной машине симулируется ядро линукс, собирается контейнер проекта с настройкой переменных среды и поднимаются сервисы web, nginx и db. Докер мы сейчас используем для тестового развертывания.

## Установка и развертывание

1. Склонируйте репозиторий
2. Создайте файл `.env.debug` (уже создан)
3. Запустите проект следующими командами терминала вашей IDE:

```bash
docker-compose build --no-cache # Сборка приложения
docker-compose up -d # Развертывание приложения
docker-compose ps # Для просмотра запущенных контейнеров
docker-compose exec django python manage.py createsuperuser # Создание админки
```


## Навигация по адресам
Главынй адрес http://localhost
1. Админка (кастомизируемая, к ней нужно писать фронт) Django по адресу /admin/

2. Главная страница с 4 кнопками (будут позже использованы для перехода на вкладки) по адресу / (доступна только авторизованным)

3. Страница авторизации по адресу /auth/login/ (неавторизованные пользователи перенаправляются сюда)

4. Готовая админка по адресу: 
```bash  
http://127.0.0.1/admin/
```

## Создание новых приложений на примере "products"
1. ```docker-compose exec django python manage.py startapp <название приложения> <"путь\\">``` - создаст директорию с файлами, название указываете `<...>` (в нашем случае - "products"), созданную папку после этого нужно переместить в `backend/apps`. Итоговая команда должна выглядеть следующим образом:
```docker-compose exec django python manage.py startapp products "backend\\apps\\"```
3. Создаёте модели в `products/models.py` . (Если файла нет - создайте)
4. Создаёте формы в `products/forms.py` . 
5. Создаёте представления в `products/views.py` .
6. Для проверки создаёте простой фронтенд в `frontend/templates/products/`, создавая файл `.html`.
7. Добавляете необходимые адреса в `products/urls.py` .
8. Подключаете приложение в `INSTALLED_APPS` в `backend/config/settings/base.py` .
9. Добавляете главный URL приложения в `backend/config/urls.py` .
10. После успешной сборки в докер создайте и примените миграции для вашего приложения, чтобы заработали базы данных:
```bash
docker-compose exec django python manage.py makemigrations products
docker-compose exec django python manage.py migrate
```
10. Можно лазить по созданным страницам
