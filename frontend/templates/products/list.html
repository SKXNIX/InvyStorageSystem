{% extends "master.html" %}

{% block bar_content %}
<div class="search-bar">
    <div class="search-input">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
        </svg>
        <input type="text" placeholder="Search...">
    </div>
</div>
<!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
<div style="padding-top: 0px" class="page-header">
    <h2>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
    <p>–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä–∞–º–∏</p>
</div>
{% endblock %}



{% block content %}
<div class="container">
    <!-- –¢–æ–≤–∞—Ä—ã -->
    <div style="cursor:initial" class="tcard">
        <h2 class="card-title">–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h2>
        <div class="card-content">
            <div class="button-group">
                <a href="{% url 'products:create' %}" class="action-btn">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a>
                <a href="{% url 'products:category_list' %}" class="action-btn">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</a>
            </div>
            <div class="table-container">
                <table class="table-card">
                    <thead>
                        <tr>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th>–ï–¥.–∏–∑–º</th>
                            <th>–ú–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for product in products %}
                        <tr>
                            <td>{{ product.name }}</td>
                            <td>{{ product.category }}</td>
                            <td>{{ product.get_unit_display }}</td>
                            <td>{{ product.location }}</td>
                            <td>
                                <a href="{% url 'products:edit' product.pk %}">‚úèÔ∏è</a>
                                <a href="{% url 'products:delete' product.pk %}">üóëÔ∏è</a>
                            </td>
                        </tr>
                        {% empty %}
                        <tr><td colspan="5">–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</td></tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —É–±—Ä–∞—Ç—å -->
<!--<script>
    document.querySelectorAll('.tcard').forEach(card => {
        card.addEventListener('click', () => {
            // –ù–µ —Ä–µ–∞–≥–∏—Ä—É–µ–º –Ω–∞ –∫–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º
            if (event.target.classList.contains('btn')) return;

            // –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            card.classList.toggle('collapsed');
        });
    });
</script>-->
{% endblock %}


<h2>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h2>
<a href="{% url 'products:create' %}" class="button">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a>
<a href="{% url 'products:category_list' %}" class="button">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</a>

<table class="product-table">
    <thead>
        <tr>
            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
            <th>–ï–¥.–∏–∑–º</th>
            <th>–ú–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.get_unit_display }}</td>
            <td>{{ product.location }}</td>
            <td>
                <a href="{% url 'products:edit' product.pk %}">‚úèÔ∏è</a>
                <a href="{% url 'products:delete' product.pk %}">üóëÔ∏è</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>






<!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<div class="pagination">
    {% if products.has_previous %}
    <a href="?page=1" class="btn btn-sm">–ü–µ—Ä–≤–∞—è</a>
    <a href="?page={{ products.previous_page_number }}" class="btn btn-sm">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
    {% endif %}

    <span class="current">
        –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ products.number }} –∏–∑ {{ products.paginator.num_pages }}
    </span>

    {% if products.has_next %}
    <a href="?page={{ products.next_page_number }}" class="btn btn-sm">–°–ª–µ–¥—É—é—â–∞—è</a>
    <a href="?page={{ products.paginator.num_pages }}" class="btn btn-sm">–ü–æ—Å–ª–µ–¥–Ω—è—è</a>
    {% endif %}
</div>